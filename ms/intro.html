<!DOCTYPE html>
<html lang="en">
<head>
    <title>Introduction</title>

    <!-- Stylesheet -->
    <link rel="stylesheet" href="../js/styles.css"/>
</head>
<body data-sidebar="ms">
<nav>
    <button class="mobile-sidebar-btn" id="mobileSidebarBtn">☰</button>
    <div class="breadcrumbs">
        <a href="../home.html">Home</a>
        <span class="separator">/</span>
        <a href="#">microservices</a>
        <span class="separator">/</span>
        <a href="#">Introduction</a>
    </div>
</nav>
<!-- Components will be inserted here by components.js -->

<!-- Main Content Section -->
<main id="content">

    <h2>1. What is an API Gateway?</h2>
    <p><strong>Definition:</strong> An API Gateway serves as a "single point of entry" for all external requests to a
        collection of microservices. It manages "inter-service communication" within a distributed environment.</p>

    <p>An <strong>API Gateway</strong> is a <strong>single entry point</strong> for all client requests to
        microservices. It can:</p>

    <p>Route requests to appropriate microservices</p>

    <p>Handle cross-cutting concerns like:</p>

    <ul>
        <li>✅ Authentication</li>
        <li>✅ Logging</li>
        <li>✅ Rate limiting</li>
        <li>✅ Caching</li>
    </ul>

    <hr>
    <pre class="code-block">
<code>
    <span class="tag">Client --> API Gateway --> Microservice A / B / C</span>
</code>
    </pre>
    <p><strong>Purpose:</strong> It prevents direct exposure of microservices to clients, enhancing security and
        manageability. Clients interact with the microservices indirectly through the Gateway.</p>

    <p><strong>Routing Requests:</strong> The Gateway "routes the request to various micro services and response to that
        clients."</p>

    <h2>2. Key Features of Spring Cloud Gateway:</h2>

    <p><strong>Routing:</strong> Directing incoming requests to the appropriate microservice.</p>

    <p><strong>Filtering:</strong> Applying logic to requests before they reach the microservice or to responses before
        they are sent back to the client. The source mentions a "standard spring web filter."</p>

    <p><strong>Load Balancing:</strong> Distributing network traffic across multiple servers to ensure no single server
        is overloaded.</p>

    <p><strong>Circuit Breaking:</strong> Preventing cascading failures in a distributed system by stopping requests to
        a service that is failing or unresponsive.</p>

    <h2>3. Setting up Spring Cloud API Gateway:</h2>
    <p>The source demonstrates the practical steps to set up the Gateway:</p>

    <p><strong>Spring Initialize:</strong> Creating a new Spring Boot project with specific dependencies.</p>

    <hr>

    <pre class="code-block">
<code>
<span class="tag">&lt;dependency&gt;</span>
<span class="tag">&lt;groupId&gt;</span>org.springframework.cloud<span class="tag">&lt;/groupId&gt;</span>
<span class="tag">&lt;artifactId&gt;</span>spring-cloud-starter-gateway<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;/dependency&gt;</span>
</code>
</pre>

    <p><strong>Declarative Configuration (application.yml):</strong></p>

    <p><strong>Structure:</strong> Routes are defined under spring.cloud.gateway.routes. Each route requires:</p>

    <p><strong>id:</strong> A unique identifier for the route (e.g., products).</p>

    <p><strong>url:</strong> The destination URI for the request. For microservices, this often uses a "load balancer
        URL" referring to the service name (e.g., <strong>lb://product-service</strong>).</p>

    <pre class="code-block">
<code>
<span class="key">spring:</span>
  <span class="key">cloud:</span>
    <span class="key">gateway:</span>
      <span class="key">routes:</span>
        <span class="key">- id:</span> <span class="value">products</span>
          <span class="key">url:</span> <span class="value">lb://product-service</span>
          <span class="key">predicates:</span>
            <span class="key">- Path=/products/**</span>
          <span class="key">filters:</span>
            <span class="key">- AddRequestHeader=X-Request-Gateway, API-GW</span>
</code>
</pre>

    <p><strong>Discovery Locator:</strong> An alternative declarative approach where
        spring.cloud.gateway.discovery.locator.enabled=true automatically creates routes for services registered with
        Eureka. This approach might require handling case sensitivity of service names (e.g., using
        spring.cloud.gateway.discovery.locator.lower-case-service-id=true).</p>

    <pre class="code-block">
<code>
<span class="key">spring:</span>
  <span class="key">cloud:</span>
    <span class="key">gateway:</span>
      <span class="key">discovery:</span>
        <span class="key">locator:</span>
          <span class="key">enabled:</span> <span class="value">true</span>
          <span class="key">lower-case-service-id:</span> <span class="value">true</span>
</code>
</pre>

    <pre class="java-code">
<code>
<span class="annotation">@SpringBootApplication</span>
<span class="keyword">public class</span> <span class="class">ApiGatewayApplication</span> {
    <span class="keyword">public static void</span> <span class="method">main</span>(<span class="class">String</span>[] <span
        class="var">args</span>) {
    <span class="class">SpringApplication</span>.run(<span class="class">ApiGatewayApplication</span>.class, <span
        class="var">args</span>);
}
</code>
</pre>
</main>

<!-- Scripts -->
<script src="../js/sidebar.js"></script>
<script src="../js/componentLoader.js"></script>
</body>
</html>